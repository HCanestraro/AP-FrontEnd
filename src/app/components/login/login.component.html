<div class="form-container mat-elevation-z5">
	<div class="d-flex container-flex align-items-center justify-content-center border shadow">
	<h1>Login</h1>
	<!-- <script> console.log( personaemail()); </script> -->
	<p>
		Auth!
		{{ (auth.user | async)?.uid | json }}
		<!-- {{ (auth.credential | async)?.additionalUserInfo.isNewUser | json | undefined }} -->
		<button (click)="login()" *ngIf="showLoginButton">Log in with Google</button>
		<button (click)="loginAnonymously()" *ngIf="showLoginButton">Log in anonymously</button>
		<button (click)="logout()" *ngIf="showLogoutButton">Log out</button>
	</p>
</div>
	<div *ngIf="auth.user | async as user; else showLogin">
		<h1>Hello {{ user.displayName }}!</h1>
		<button (click)="logout()">Logout</button>
	</div>
	<ng-template #showLogin>
		<p>Please login.</p>
		<button (click)="login()">Login with Google</button>
	</ng-template>

	<form [ formGroup ] = "fb" (ngSubmit ) = "submit()" >
		<mat-form-field>
			<input matInput placeholder="Email address" formControlName="email" id="email" />
			<mat-error *ngIf="email?.errors?.['required']">
				Email address is required
			</mat-error>
			<mat-error *ngIf="email?.errors?.['email']">
				Please enter a valid email address
			</mat-error>
		</mat-form-field>
		<mat-form-field>
			<input matInput type="password" placeholder="Password" formControlName="password" id="password" />
			<mat-error *ngIf="password?.errors?.['required']">
				Password is required
			</mat-error>
		</mat-form-field>
		<div class="center margin-top">
			<button type="submit" mat-raised-button color="primary">Login</button>
		</div>
		<span class="center margin-top">New to our platform? <a class="sign-up-link" routerLink="">Sign
				up!</a></span>
	</form>
</div>